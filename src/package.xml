<?xml version="1.0" encoding="utf-8"?>
<package
  name="dataBcCdc"
  displayName="Add-On to the Epidemic Package for BC CDC COVID-19 data"
  isAddOn="True" 
  extendsPackage="epi"
  version="1.0.0">
  <transformers>
    <transformer 
      name="Download" 
      isPrimary="True"
      displayName="Download BC CDC COVID-19 data"
      programName="Rscript"
      programArguments="data-bc-cdc.R"
      extendsTransformer="epi_Primary"
      runContext="LocalOnly"
      isRunnable ="True">
      <datafeeds>
        <datafeed name="Input" displayName="BC CDC Data" dataScope="Scenario">
          <datasheets>
            <datasheet name="Input" displayName="BC CDC Data" isSingleRow="True">
              <columns>
                <column name="InputID" dataType="Integer" isPrimary="True"/>
                <column name="ScenarioID" displayName="Scenario" dataType="Integer"/>
                <column name="RegionalSummaryDataURL" displayName="Regional Summary Data URL" dataType="String"/>
              </columns>
            </datasheet>
          </datasheets>
        </datafeed>
        <datafeed name="Output" displayName="BC CDC Raw Output" dataScope="Scenario" isOutput="True">
          <datasheets>
            <datasheet name="Output" displayName="BC CDC Raw Output" isSingleRow="True">
              <columns>
                <column name="ScenarioID" displayName="Scenario" dataType="Integer"/>
                <column name="RegionalSummaryDataFile" displayName="Regional Summary Data File" dataType="String" isExternalFile="True"/>
                <column name="DownloadDateTime" displayName="Download Date/Time" dataType="Date"/>                
              </columns>
            </datasheet>
          </datasheets>
        </datafeed>        
      </datafeeds>
    </transformer>
  </transformers>
  <layouts>
    <layout name="coreforms_ScenarioDatafeeds">
      <item name="Input" appendTo="epi_Inputs"/>
      <item name="Output" runRequired="True" appendTo="epi_Outputs"/>
    </layout>    
  </layouts>
</package>